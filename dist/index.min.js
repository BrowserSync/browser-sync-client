!function t(e,n,o){function r(a,c){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return r(n?n:t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,n){function o(t,e){return t.reduce(function(t,n,o){var a=e[o];return u("undefined",a)||!u(n.type,a)?t.concat(i(a,n,"")):t.concat(r(e[o],n))},[])}function r(t,e,n){return n=n?[n,e.name].join("."):e.name,"object"===e.type&&e.properties?a(t,e.properties,n):i(t,e,n)}function i(t,e,n){if(void 0===t){if(!e.optional)return[{name:e.name,errorType:"missing",path:n,expectedType:e.type}]}else if(!u(e.type,t))return[{name:e.name,errorType:"type",path:n,expectedType:e.type}];return[]}function a(t,e,n){return e.reduce(function(e,o){return"object"===o.type&&o.properties&&u("object",t)&&t[o.name]?e.concat(a(t[o.name],o.properties,[n,o.name].join("."))):e.concat(i(t[o.name],o,[n,o.name].join(".")))},[])}function c(t,e){var n=t.filter(function(t){return t.domain===e}),o=[];return n.length||o.push({errorType:"domain-missing",name:e}),{domain:n[0],errors:o}}function s(t,e){var n=t.commands.filter(function(t){return t.name===e}),o=[];return n.length||o.push({errorType:"command-missing",domain:t.domain,name:e}),{command:n[0],errors:o}}function u(t,e){if("undefined"===t)return void 0===e;if(!d[t])throw new Error("Cannot check type "+t);return Object.prototype.toString.call(e)===d[t]}var l=n,f=t("../protocol.json");l.validate=function(t){var e=Array.from(arguments).slice(1);t=t.split(".");var n={},r=f.domains,i=c(r,t[0]);if(i.errors.length)return{errors:i.errors,payload:{}};var a=s(i.domain,t[1]);if(a.errors.length)return{errors:a.errors,payload:{}};var u=o(a.command.parameters,e);return u.length||(n=a.command.parameters.reduce(function(t,n,o){return t[n.name]=e[o],t},{})),{errors:u,payload:{path:t.join("."),args:n}}};var d={array:"[object Array]","boolean":"[object Boolean]","function":"[object Function]",number:"[object Number]",object:"[object Object]",string:"[object String]"}},{"../protocol.json":2}],2:[function(t,e,n){e.exports={version:{major:"1",minor:"0"},domains:[{domain:"Global",description:"",types:[{id:"NodeId",type:"integer",description:"Unique DOM node identifier."}],commands:[{name:"reload",parameters:[{name:"hard",type:"boolean",description:"Instruct the browser to re-fetch data"}],description:"Inform all browsers to perform a reload."},{name:"inject",parameters:[{name:"file",type:"object",description:"File info for injecting",properties:[{name:"basename",type:"string",description:"Basename of file"},{name:"path",type:"string",description:"Path from CWD"},{name:"ext",type:"string",description:"File extension without the dot"},{name:"item",type:"object",properties:[{name:"locator",type:"object",optional:!0,description:"Serialized Regex",properties:[{name:"source",type:"string",description:"Regex Source"},{name:"global",type:"boolean",description:"`global` Regex Flag"},{name:"ignoreCase",type:"boolean",description:"`ignoreCase` Regex Flag"},{name:"multiline",type:"boolean",description:"`multiline` Regex Flag"}]}]}]}],description:"Inform all browsers to the replace the url of an asset to force a reload"}]},{domain:"Options",description:"",types:[],commands:[{name:"set",parameters:[{name:"id",type:"string",description:"Where to set the options - default or to a specific client?"},{name:"options",type:"object",description:"The sub-set of options to override on the client"}],description:"Update options on a client"}]},{domain:"Client",description:"",types:[{id:"Client",type:"Object",description:"Unique DOM node identifier."}],commands:[{name:"register",parameters:[{name:"client",type:"object",description:"Client information",properties:[{name:"id",type:"string",description:"Per tab, Per session id for a client"}]},{name:"data",type:"object",optional:!0,description:"Any additional data to send on register"}],description:"register a client with an id"},{name:"heartbeat",parameters:[{name:"client",type:"object",description:"Client information",properties:[{name:"id",type:"string",description:"Per tab, Per session heartbeat for a client"}]},{name:"data",type:"object",optional:!0,description:"Any additional data to send on register"}],description:"Send a heartbeat from a client"}]}]}},{}],3:[function(t,e,n){"use strict";var o=t("./socket"),r=t("./emitter"),i=(t("./notify"),t("./browser.utils")),a=t("lodash.merge"),c=t("lodash.get"),s=t("./store"),u=t("/Users/shakyshane/code/browser-sync-core-rewrite/lib/protocol.js"),l=function(t){this.options=t,this.socket=o,this.emitter=r,this.utils=i,this.store=s.create(t.sessionId);var e=this;this.store.get("client")||this.store.set("client",{id:this.socket.socket.id});var n=this.store.get("client.id"),c=u.validate("Client.register",this.store.get("client"));o.emit(c.payload.path,c.payload.args),o.on("Options.set",function(t){t.id===n&&(console.log("received",t.options),a(e.options,t.options))});var l=u.validate("Client.heartbeat",this.store.get("client"));setInterval(function(){o.emit(l.payload.path,l.payload.args)},5e3)};l.prototype.canSync=function(t,e){if(t=t||{},t.override)return!0;var n=!0;return e&&(n=this.getOption(e)),n&&t.url===window.location.pathname},l.prototype.getOption=function(t){return c(this.options,t)},e.exports=l},{"./browser.utils":4,"./emitter":7,"./notify":18,"./socket":19,"./store":20,"/Users/shakyshane/code/browser-sync-core-rewrite/lib/protocol.js":1,"lodash.get":21,"lodash.merge":25}],4:[function(t,e,n){"use strict";var o=n;o.getWindow=function(){return window},o.getDocument=function(){return document},o.getBrowserScrollPosition=function(){var t,e,o=n.getWindow(),r=n.getDocument(),i=r.documentElement,a=r.body;return void 0!==o.pageYOffset?(t=o.pageXOffset,e=o.pageYOffset):(t=i.scrollLeft||a.scrollLeft||0,e=i.scrollTop||a.scrollTop||0),{x:t,y:e}},o.getScrollSpace=function(){var t=n.getDocument(),e=t.documentElement,o=t.body;return{x:o.scrollHeight-e.clientWidth,y:o.scrollHeight-e.clientHeight}},o.saveScrollPosition=function(){var t=o.getBrowserScrollPosition();t=[t.x,t.y],o.getDocument.cookie="bs_scroll_pos="+t.join(",")},o.restoreScrollPosition=function(){var t=o.getDocument().cookie.replace(/(?:(?:^|.*;\s*)bs_scroll_pos\s*\=\s*([^;]*).*$)|^.*$/,"$1").split(",");o.getWindow().scrollTo(t[0],t[1])},o.getElementIndex=function(t,e){var n=o.getDocument().getElementsByTagName(t);return Array.prototype.indexOf.call(n,e)},o.forceChange=function(t){t.blur(),t.focus()},o.getElementData=function(t){var e=t.tagName,n=o.getElementIndex(e,t);return{tagName:e,index:n}},o.getSingleElement=function(t,e){var n=o.getDocument().getElementsByTagName(t);return n[e]},o.getBody=function(){return o.getDocument().getElementsByTagName("body")[0]},o.setScroll=function(t){o.getWindow().scrollTo(t.x,t.y)},o.reloadBrowser=function(){o.getWindow().location.reload(!0)},o.forEach=function(t,e){for(var n=0,o=t.length;o>n;n+=1)e(t[n],n,t)},o.isOldIe=function(){return"undefined"!=typeof o.getWindow().attachEvent}},{}],5:[function(t,e,n){"indexOf"in Array.prototype||(Array.prototype.indexOf=function(t,e){void 0===e&&(e=0),0>e&&(e+=this.length),0>e&&(e=0);for(var n=this.length;n>e;e+=1)if(e in this&&this[e]===t)return e;return-1})},{}],6:[function(t,e,n){"use strict";var o,r=t("./events"),i=t("./browser.utils"),a=t("./emitter"),c=n,s={tagNames:{css:"link",jpg:"img",jpeg:"img",png:"img",svg:"img",gif:"img",js:"script"},attrs:{link:"href",img:"src",script:"src"}},u="codeSync",l=function(){return window.location.pathname};c.init=function(t){t.options.tagNames&&(s.tagNames=t.options.tagNames),"window.name"===t.options.scrollRestoreTechnique||c.saveScrollInCookie(i.getWindow(),i.getDocument()),t.socket.on("Global.inject",c.reload(t)),t.socket.on("Global.reload",function(e){t.canSync({url:l()},u)&&c.reloadBrowser(e,t)})},c.saveScrollInName=function(){var t=i.getWindow(),e={};a.on("browser:hardReload",function(){t.name=t.name+"bs="+JSON.stringify({bs:{hardReload:!0,scroll:i.getBrowserScrollPosition()}})});try{var n=t.name.match(/bs=(.+)$/);n&&(e=JSON.parse(n[1]))}catch(o){e={}}e.bs&&e.bs.hardReload&&e.bs.scroll&&i.setScroll(e.bs.scroll),console.log(t.name),t.name=""},c.saveScrollInCookie=function(t,e){i.isOldIe()&&("complete"===e.readyState?i.restoreScrollPosition():r.manager.addEvent(e,"readystatechange",function(){"complete"===e.readyState&&i.restoreScrollPosition()}),a.on("browser:hardReload",i.saveScrollPosition))},c.swapFile=function(t,e,n){var r=t[e],i=(new Date).getTime(),a="?rel="+i,s=c.getFilenameOnly(r);s&&(r=s[0]),n&&(n.timestamps||(a="")),t[e]=r+a;var u=document.body;return setTimeout(function(){o?(o.style.display="none",o.style.display="block"):(o=document.createElement("DIV"),u.appendChild(o))},200),{elem:t,timeStamp:i}},c.getFilenameOnly=function(t){return/^[^\?]+(?=\?)/.exec(t)},c.reload=function(t){return function(e){if(t.canSync({url:l()},u)){var n,o=t.options,r=t.emitter,i=e.file,a=c.getElems(i.ext),s=c.getMatches(a.elems,i.basename,a.attr);s.length&&o.notify&&r.emit("notify",{message:"Injected: "+i.basename});for(var f=0,d=s.length;d>f;f+=1)n=c.swapFile(s[f],a.attr,o);return n}}},c.getTagName=function(t){return s.tagNames[t]},c.getAttr=function(t){return s.attrs[t]},c.getMatches=function(t,e,n){if("*"===e[0])return t;for(var o=[],r=0,i=t.length;i>r;r+=1)-1!==t[r][n].indexOf(e)&&o.push(t[r]);return o},c.getElems=function(t){var e=c.getTagName(t),n=c.getAttr(e);return{elems:document.getElementsByTagName(e),attr:n}},c.reloadBrowser=function(t){a.emit("browser:hardReload"),t&&i.reloadBrowser()}},{"./browser.utils":4,"./emitter":7,"./events":8}],7:[function(t,e,n){"use strict";n.events={},n.emit=function(t,e){var o,r=n.events[t];if(r&&r.listeners){o=r.listeners;for(var i=0,a=o.length;a>i;i+=1)o[i](e)}},n.on=function(t,e){var o=n.events;o[t]?o[t].listeners.push(e):o[t]={listeners:[e]}}},{}],8:[function(t,e,n){n._ElementCache=function(){var t={},e=1,n="data"+(new Date).getTime();this.getData=function(o){var r=o[n];return r||(r=o[n]=e++,t[r]={}),t[r]},this.removeData=function(e){var o=e[n];if(o){delete t[o];try{delete e[n]}catch(r){e.removeAttribute&&e.removeAttribute(n)}}}},n._fixEvent=function(t){function e(){return!0}function n(){return!1}if(!t||!t.stopPropagation){var o=t||window.event;t={};for(var r in o)t[r]=o[r];if(t.target||(t.target=t.srcElement||document),t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement,t.preventDefault=function(){t.returnValue=!1,t.isDefaultPrevented=e},t.isDefaultPrevented=n,t.stopPropagation=function(){t.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){this.isImmediatePropagationStopped=e,this.stopPropagation()},t.isImmediatePropagationStopped=n,null!=t.clientX){var i=document.documentElement,a=document.body;t.pageX=t.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,null!=t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t},n._EventManager=function(t){function e(e,n){function o(t){for(var e in t)return!1;return!0}var r=t.getData(e);0===r.handlers[n].length&&(delete r.handlers[n],document.removeEventListener?e.removeEventListener(n,r.dispatcher,!1):document.detachEvent&&e.detachEvent("on"+n,r.dispatcher)),o(r.handlers)&&(delete r.handlers,delete r.dispatcher),o(r)&&t.removeData(e)}var o=1;this.addEvent=function(e,r,i){var a=t.getData(e);a.handlers||(a.handlers={}),a.handlers[r]||(a.handlers[r]=[]),i.guid||(i.guid=o++),a.handlers[r].push(i),a.dispatcher||(a.disabled=!1,a.dispatcher=function(t){if(!a.disabled){t=n._fixEvent(t);var o=a.handlers[t.type];if(o)for(var r=0;r<o.length;r++)o[r].call(e,t)}}),1==a.handlers[r].length&&(document.addEventListener?e.addEventListener(r,a.dispatcher,!1):document.attachEvent&&e.attachEvent("on"+r,a.dispatcher))},this.removeEvent=function(n,o,r){var i=t.getData(n);if(i.handlers){var a=function(t){i.handlers[t]=[],e(n,t)};if(o){var c=i.handlers[o];if(c){if(!r)return void a(o);if(r.guid)for(var s=0;s<c.length;s++)c[s].guid===r.guid&&c.splice(s--,1);e(n,o)}}else for(var u in i.handlers)a(u)}},this.proxy=function(t,e){e.guid||(e.guid=o++);var n=function(){return e.apply(t,arguments)};return n.guid=e.guid,n}},n.triggerClick=function(t){var e;document.createEvent?window.setTimeout(function(){e=document.createEvent("MouseEvents"),e.initEvent("click",!0,!0),t.dispatchEvent(e)},0):window.setTimeout(function(){document.createEventObject&&(e=document.createEventObject(),e.cancelBubble=!0,t.fireEvent("onclick",e))},0)};var o=new n._ElementCache,r=new n._EventManager(o);r.triggerClick=n.triggerClick,n.manager=r},{}],9:[function(t,e,n){"use strict";var o="click",r="ghostMode.clicks";n.canEmitEvents=!0,n.init=function(t,e){e.addEvent(document.body,o,n.browserEvent(t)),t.socket.on(o,n.socketEvent(t,e))},n.browserEvent=function(t){return function(e){if(n.canEmitEvents){var r=e.target||e.srcElement;if("checkbox"===r.type||"radio"===r.type)return void t.utils.forceChange(r);t.socket.emit(o,t.utils.getElementData(r))}else n.canEmitEvents=!0}},n.socketEvent=function(t,e){return function(o){if(!t.canSync(o,r))return!1;var i=t.utils.getSingleElement(o.tagName,o.index);i&&(n.canEmitEvents=!1,e.triggerClick(i))}}},{}],10:[function(t,e,n){"use strict";var o="input:text",r="ghostMode.forms.inputs";n.canEmitEvents=!0,n.init=function(t,e){e.addEvent(document.body,"keyup",n.browserEvent(t)),t.socket.on(o,n.socketEvent(t,e))},n.browserEvent=function(t){return function(e){var r,i=e.target||e.srcElement;n.canEmitEvents?("INPUT"===i.tagName||"TEXTAREA"===i.tagName)&&(r=t.utils.getElementData(i),r.value=i.value,t.socket.emit(o,r)):n.canEmitEvents=!0}},n.socketEvent=function(t){return function(e){if(!t.canSync(e,r))return!1;var n=t.utils.getSingleElement(e.tagName,e.index);return n?(n.value=e.value,n):!1}}},{}],11:[function(t,e,n){"use strict";n.plugins={inputs:t("./ghostmode.forms.input"),toggles:t("./ghostmode.forms.toggles"),submit:t("./ghostmode.forms.submit")},n.init=function(t,e){function o(o){n.plugins[o].init(t,e)}var r=!0,i=t.options.ghostMode.forms;i===!0&&(r=!1);for(var a in n.plugins)r?i[a]&&o(a):o(a)}},{"./ghostmode.forms.input":10,"./ghostmode.forms.submit":12,"./ghostmode.forms.toggles":13}],12:[function(t,e,n){"use strict";var o="form:submit",r="ghostMode.forms.submit";n.canEmitEvents=!0,n.init=function(t,e){var r=n.browserEvent(t);e.addEvent(document.body,"submit",r),e.addEvent(document.body,"reset",r),t.socket.on(o,n.socketEvent(t,e))},n.browserEvent=function(t){return function(e){if(n.canEmitEvents){var r=e.target||e.srcElement,i=t.utils.getElementData(r);i.type=e.type,t.socket.emit(o,i)}else n.canEmitEvents=!0}},n.socketEvent=function(t){return function(e){if(!t.canSync(e,r))return!1;var o=t.utils.getSingleElement(e.tagName,e.index);return n.canEmitEvents=!1,o&&"submit"===e.type&&o.submit(),o&&"reset"===e.type&&o.reset(),!1}}},{}],13:[function(t,e,n){"use strict";var o="input:toggles",r="ghostMode.forms.toggles";n.canEmitEvents=!0,n.init=function(t,e){var r=n.browserEvent(t);n.addEvents(e,r),t.socket.on(o,n.socketEvent(t,e))},n.addEvents=function(t,e){function n(n){for(var o=0,r=n.length;r>o;o+=1)t.addEvent(n[o],"change",e)}var o=document.getElementsByTagName("select"),r=document.getElementsByTagName("input");n(o),n(r)},n.browserEvent=function(t){return function(e){if(n.canEmitEvents){var r,i=e.target||e.srcElement;("radio"===i.type||"checkbox"===i.type||"SELECT"===i.tagName)&&(r=t.utils.getElementData(i),r.type=i.type,r.value=i.value,r.checked=i.checked,t.socket.emit(o,r))}else n.canEmitEvents=!0}},n.socketEvent=function(t){return function(e){if(!t.canSync(e,r))return!1;n.canEmitEvents=!1;var o=t.utils.getSingleElement(e.tagName,e.index);return o?("radio"===e.type&&(o.checked=!0),"checkbox"===e.type&&(o.checked=e.checked),"SELECT"===e.tagName&&(o.value=e.value),o):!1}}},{}],14:[function(t,e,n){"use strict";var o=t("./events").manager;n.plugins={scroll:t("./ghostmode.scroll"),clicks:t("./ghostmode.clicks"),forms:t("./ghostmode.forms"),location:t("./ghostmode.location")},n.init=function(t){for(var e in n.plugins)n.plugins[e].init(t,o)}},{"./events":8,"./ghostmode.clicks":9,"./ghostmode.forms":11,"./ghostmode.location":15,"./ghostmode.scroll":16}],15:[function(t,e,n){"use strict";var o="browser:location",r="ghostMode.location";n.canEmitEvents=!0,n.init=function(t){t.socket.on(o,n.socketEvent(t))},n.socketEvent=function(t){return function(e){return t.canSync(e,r)?void(e.path?n.setPath(e.path):n.setUrl(e.url)):!1}},n.setUrl=function(t){window.location=t},n.setPath=function(t){window.location=window.location.protocol+"//"+window.location.host+t}},{}],16:[function(t,e,n){"use strict";var o,r="scroll",i="scroll:element",a="ghostMode.scroll";n.canEmitEvents=!0,n.init=function(t,e){function a(i,a){c[i]&&c[i].length&&"querySelectorAll"in document&&o.forEach(c[i],function(i){var c=document.querySelectorAll(i)||[];o.forEach(c,function(i){var c=o.getElementData(i);c.cacheSelector=c.tagName+":"+c.index,c.map=a,s[c.cacheSelector]=i,e.addEvent(i,r,n.browserEventForElement(t,i,c))})})}o=t.utils;var c=t.options;e.addEvent(window,r,n.browserEvent(t)),t.socket.on(r,n.socketEvent(t));var s={};a("scrollElements",!1),a("scrollElementMapping",!0),t.socket.on(i,n.socketEventForElement(t,s))},n.socketEvent=function(t){return function(e){if(!t.canSync(e,a))return!1;var r=o.getScrollSpace();return n.canEmitEvents=!1,t.options&&t.options.scrollProportionally?window.scrollTo(0,r.y*e.position.proportional):window.scrollTo(0,e.position.raw)}},n.socketEventForElement=function(t,e){return function(o){function r(t,n){e[t]&&(e[t].scrollTop=n)}return t.canSync(o,a)?(n.canEmitEvents=!1,o.map?Object.keys(e).forEach(function(t){r(t,o.position)}):void r(o.elem.cacheSelector,o.position)):!1}},n.browserEventForElement=function(t,e,o){return function(){var r=n.canEmitEvents;r&&t.socket.emit(i,{position:e.scrollTop,elem:o,map:o.map}),n.canEmitEvents=!0}},n.browserEvent=function(t){return function(){var e=n.canEmitEvents;e&&t.socket.emit(r,{position:n.getScrollPosition()}),n.canEmitEvents=!0}},n.getScrollPosition=function(){var t=o.getBrowserScrollPosition();return{raw:t,proportional:n.getScrollTopPercentage(t)}},n.getScrollPercentage=function(t,e){var n=e.x/t.x,o=e.y/t.y;return{x:n||0,y:o}},n.getScrollTopPercentage=function(t){var e=o.getScrollSpace(),r=n.getScrollPercentage(e,t);return r.y}},{}],17:[function(t,e,n){"use strict";var o=t("./socket"),r=(t("./client-shims"),t("./notify")),i=t("./code-sync"),a=t("./browser-sync"),c=t("./ghostmode"),s=(t("./emitter"),t("./events"),t("./browser.utils")),u=!1,l=!1;n.init=function(t){u&&t.reloadOnRestart&&s.reloadBrowser();var e=window.___browserSync___||{};if(!e.client){e.client=!0;var n=new a(t);c.init(n),i.init(n),r.init(n),t.notify&&r.flash("Connected to BrowserSync as "+n.store.get("client.id"))}l||(o.on("disconnect",function(){t.notify&&r.flash("Disconnected from BrowserSync"),u=!0}),l=!0)},o.on("connection",n.init)},{"./browser-sync":3,"./browser.utils":4,"./client-shims":5,"./code-sync":6,"./emitter":7,"./events":8,"./ghostmode":14,"./ghostmode.clicks":9,"./ghostmode.forms":11,"./ghostmode.forms.input":10,"./ghostmode.forms.submit":12,"./ghostmode.forms.toggles":13,"./ghostmode.location":15,"./ghostmode.scroll":16,"./notify":18,"./socket":19}],18:[function(t,e,n){"use strict";var o,r,i,a,c=(t("./ghostmode.scroll"),["display: none","padding: 15px","font-family: sans-serif","position: fixed","font-size: 0.9em","z-index: 9999","right: 0px","top: 0px","border-bottom-left-radius: 5px","background-color: #1B2032","margin: 0","color: white","text-align: center"]);n.init=function(t){o=t,i=t.options;var e=c;i.notify.styles&&(e=i.notify.styles),r=document.createElement("DIV"),r.id="__bs_notify__",r.style.cssText=e.join(";"),document.getElementsByTagName("body")[0].appendChild(r);var a=n.watchEvent();return o.emitter.on("notify",a),o.socket.on("browser:notify",a),r},n.watchEvent=function(){return function(t){return"string"==typeof t?n.flash(t):void n.flash(t.message,t.timeout)}},n.getElem=function(){return r},n.getScrollTop=function(){return o.utils.getBrowserScrollPosition().y},n.flash=function(t,e){var o=n.getElem();return o?(o.innerHTML=t,o.style.display="block",a&&(clearTimeout(a),a=void 0),a=window.setTimeout(function(){o.style.display="none"},e||2e3),o):!1}},{"./ghostmode.scroll":16}],19:[function(t,e,n){"use strict";var o=window.___browserSync___||{};n.socket=o.socket||{emit:function(){},on:function(){}},n.getPath=function(){return window.location.pathname},n.emit=function(t,e){var o=n.socket;o&&o.emit&&(e.url=n.getPath(),o.emit(t,e))},n.on=function(t,e){n.socket.on(t,e)}},{}],20:[function(t,e,n){function o(){try{var t=u.name.match(/bs=(.+)$/);if(t)return JSON.parse(t[1])}catch(e){console.log("Could not parse saved JSON")}return{}}function r(t){u.name=p+JSON.stringify(t)}function i(){u.name=""}function a(t){function e(e){"string"==typeof e&&(e=e.split("."));var n=o();return n[t]?f(n,[t].concat(e)):void 0}function n(e,n,a){var c=o();if(c[t]){var s=a?l({},f(c[t],e),n):n;return d(c[t],e,s),r(c),c}i();var u={};return u[t]=d({},e,n),r(u),u}return{get:e,set:n,merge:l}}function c(t){return a(t)}var s=t("./browser.utils"),u=s.getWindow(),l=t("lodash.merge"),f=t("lodash.get"),d=t("lodash.set"),p="bs=";e.exports.create=c},{"./browser.utils":4,"lodash.get":21,"lodash.merge":25,"lodash.set":42}],21:[function(t,e,n){function o(t,e,n){var o=null==t?void 0:r(t,i(e),e+"");return void 0===o?n:o}var r=t("lodash._baseget"),i=t("lodash._topath");e.exports=o},{"lodash._baseget":22,"lodash._topath":23}],22:[function(t,e,n){function o(t,e,n){if(null!=t){void 0!==n&&n in r(t)&&(e=[n]);for(var o=0,i=e.length;null!=t&&i>o;)t=t[e[o++]];return o&&o==i?t:void 0}}function r(t){return i(t)?t:Object(t)}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}e.exports=o},{}],23:[function(t,e,n){function o(t){return null==t?"":t+""}function r(t){if(i(t))return t;var e=[];return o(t).replace(a,function(t,n,o,r){e.push(o?r.replace(c,"$1"):n||t)}),e}var i=t("lodash.isarray"),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,c=/\\(\\)?/g;e.exports=r},{"lodash.isarray":24}],24:[function(t,e,n){function o(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return s(n)?n:void 0}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&y>=t}function a(t){return c(t)&&g.call(t)==l}function c(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null==t?!1:a(t)?v.test(p.call(t)):o(t)&&f.test(t)}var u="[object Array]",l="[object Function]",f=/^\[object .+?Constructor\]$/,d=Object.prototype,p=Function.prototype.toString,m=d.hasOwnProperty,g=d.toString,v=RegExp("^"+p.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),h=r(Array,"isArray"),y=9007199254740991,b=h||function(t){return o(t)&&i(t.length)&&g.call(t)==u};e.exports=b},{}],25:[function(t,e,n){function o(t){return!!t&&"object"==typeof t}function r(t,e,n,a,s){if(!u(t))return t;var l=c(e)&&(m(e)||v(e)),d=l?void 0:h(e);return f(d||e,function(c,u){if(d&&(u=c,c=e[u]),o(c))a||(a=[]),s||(s=[]),i(t,e,u,r,n,a,s);else{var f=t[u],p=n?n(f,c,u,t,e):void 0,m=void 0===p;m&&(p=c),void 0===p&&(!l||u in t)||!m&&(p===p?p===f:f!==f)||(t[u]=p)}}),t}function i(t,e,n,o,r,i,a){for(var s=i.length,u=e[n];s--;)if(i[s]==u)return void(t[n]=a[s]);var f=t[n],d=r?r(f,u,n,t,e):void 0,h=void 0===d;h&&(d=u,c(u)&&(m(u)||v(u))?d=m(f)?f:c(f)?l(f):[]:g(u)||p(u)?d=p(f)?y(f):g(f)?f:{}:h=!1),i.push(u),a.push(d),h?t[n]=o(d,u,r,i,a):(d===d?d!==f:f===f)&&(t[n]=d)}function a(t){return function(e){return null==e?void 0:e[t]}}function c(t){return null!=t&&s(E(t))}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&b>=t}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var l=t("lodash._arraycopy"),f=t("lodash._arrayeach"),d=t("lodash._createassigner"),p=t("lodash.isarguments"),m=t("lodash.isarray"),g=t("lodash.isplainobject"),v=t("lodash.istypedarray"),h=t("lodash.keys"),y=t("lodash.toplainobject"),b=9007199254740991,E=a("length"),w=d(r);e.exports=w},{"lodash._arraycopy":26,"lodash._arrayeach":27,"lodash._createassigner":28,"lodash.isarguments":33,"lodash.isarray":34,"lodash.isplainobject":35,"lodash.istypedarray":37,"lodash.keys":38,"lodash.toplainobject":40}],26:[function(t,e,n){function o(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e}e.exports=o},{}],27:[function(t,e,n){function o(t,e){for(var n=-1,o=t.length;++n<o&&e(t[n],n,t)!==!1;);return t}e.exports=o},{}],28:[function(t,e,n){function o(t){return a(function(e,n){var o=-1,a=null==e?0:n.length,c=a>2?n[a-2]:void 0,s=a>2?n[2]:void 0,u=a>1?n[a-1]:void 0;for("function"==typeof c?(c=r(c,u,5),a-=2):(c="function"==typeof u?u:void 0,a-=c?1:0),s&&i(n[0],n[1],s)&&(c=3>a?void 0:c,a=1);++o<a;){var l=n[o];l&&t(e,l,c)}return e})}var r=t("lodash._bindcallback"),i=t("lodash._isiterateecall"),a=t("lodash.restparam");e.exports=o},{"lodash._bindcallback":29,"lodash._isiterateecall":30,"lodash.restparam":31}],29:[function(t,e,n){function o(t,e,n){if("function"!=typeof t)return r;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,o,r){return t.call(e,n,o,r)};case 4:return function(n,o,r,i){return t.call(e,n,o,r,i)};case 5:return function(n,o,r,i,a){return t.call(e,n,o,r,i,a)}}return function(){return t.apply(e,arguments)}}function r(t){return t}e.exports=o},{}],30:[function(t,e,n){function o(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&c(f(t))}function i(t,e){return t="number"==typeof t||u.test(t)?+t:-1,e=null==e?l:e,t>-1&&t%1==0&&e>t}function a(t,e,n){if(!s(n))return!1;var o=typeof e;if("number"==o?r(n)&&i(e,n.length):"string"==o&&e in n){var a=n[e];return t===t?t===a:a!==a}return!1}function c(t){return"number"==typeof t&&t>-1&&t%1==0&&l>=t}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var u=/^\d+$/,l=9007199254740991,f=o("length");e.exports=a},{}],31:[function(t,e,n){function o(t,e){if("function"!=typeof t)throw new TypeError(r);return e=i(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,o=-1,r=i(n.length-e,0),a=Array(r);++o<r;)a[o]=n[e+o];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var c=Array(e+1);for(o=-1;++o<e;)c[o]=n[o];return c[e]=a,t.apply(this,c)}}var r="Expected a function",i=Math.max;e.exports=o},{}],32:[function(t,e,n){function o(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return c(n)?n:void 0}function i(t){return a(t)&&p.call(t)==s}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){return null==t?!1:i(t)?m.test(f.call(t)):o(t)&&u.test(t)}var s="[object Function]",u=/^\[object .+?Constructor\]$/,l=Object.prototype,f=Function.prototype.toString,d=l.hasOwnProperty,p=l.toString,m=RegExp("^"+f.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},{}],33:[function(t,e,n){function o(t){return!!t&&"object"==typeof t}function r(t){return function(e){return null==e?void 0:e[t]}}function i(t){return null!=t&&a(d(t))}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&f>=t}function c(t){return o(t)&&i(t)&&u.call(t,"callee")&&!l.call(t,"callee")}var s=Object.prototype,u=s.hasOwnProperty,l=s.propertyIsEnumerable,f=9007199254740991,d=r("length");e.exports=c},{}],34:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],35:[function(t,e,n){function o(t){return!!t&&"object"==typeof t}function r(t,e){return a(t,e,s)}function i(t){var e;if(!o(t)||d.call(t)!=u||c(t)||!f.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return r(t,function(t,e){n=e}),void 0===n||f.call(t,n)}var a=t("lodash._basefor"),c=t("lodash.isarguments"),s=t("lodash.keysin"),u="[object Object]",l=Object.prototype,f=l.hasOwnProperty,d=l.toString;e.exports=i},{"lodash._basefor":36,"lodash.isarguments":33,"lodash.keysin":39}],36:[function(t,e,n){function o(t){return function(e,n,o){for(var i=r(e),a=o(e),c=a.length,s=t?c:-1;t?s--:++s<c;){var u=a[s];if(n(i[u],u,i)===!1)break}return e}}function r(t){return i(t)?t:Object(t)}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var a=o();e.exports=a},{}],37:[function(t,e,n){function o(t){return!!t&&"object"==typeof t}function r(t){return"number"==typeof t&&t>-1&&t%1==0&&D>=t}function i(t){return o(t)&&r(t.length)&&!!P[A.call(t)]}var a="[object Arguments]",c="[object Array]",s="[object Boolean]",u="[object Date]",l="[object Error]",f="[object Function]",d="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",v="[object Set]",h="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",E="[object Float32Array]",w="[object Float64Array]",j="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",x="[object Uint8Array]",O="[object Uint8ClampedArray]",_="[object Uint16Array]",T="[object Uint32Array]",P={};P[E]=P[w]=P[j]=P[k]=P[S]=P[x]=P[O]=P[_]=P[T]=!0,P[a]=P[c]=P[b]=P[s]=P[u]=P[l]=P[f]=P[d]=P[p]=P[m]=P[g]=P[v]=P[h]=P[y]=!1;var N=Object.prototype,A=N.toString,D=9007199254740991;e.exports=i},{}],38:[function(t,e,n){function o(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&a(y(t))}function i(t,e){return t="number"==typeof t||p.test(t)?+t:-1,e=null==e?h:e,t>-1&&t%1==0&&e>t}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&h>=t}function c(t){for(var e=u(t),n=e.length,o=n&&t.length,r=!!o&&a(o)&&(d(t)||f(t)),c=-1,s=[];++c<n;){var l=e[c];(r&&i(l,o)||g.call(t,l))&&s.push(l)}return s}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){if(null==t)return[];s(t)||(t=Object(t));var e=t.length;e=e&&a(e)&&(d(t)||f(t))&&e||0;for(var n=t.constructor,o=-1,r="function"==typeof n&&n.prototype===t,c=Array(e),u=e>0;++o<e;)c[o]=o+"";for(var l in t)u&&i(l,e)||"constructor"==l&&(r||!g.call(t,l))||c.push(l);return c}var l=t("lodash._getnative"),f=t("lodash.isarguments"),d=t("lodash.isarray"),p=/^\d+$/,m=Object.prototype,g=m.hasOwnProperty,v=l(Object,"keys"),h=9007199254740991,y=o("length"),b=v?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&r(t)?c(t):s(t)?v(t):[]}:c;e.exports=b},{"lodash._getnative":32,"lodash.isarguments":33,"lodash.isarray":34}],39:[function(t,e,n){function o(t,e){return t="number"==typeof t||u.test(t)?+t:-1,e=null==e?d:e,t>-1&&t%1==0&&e>t}function r(t){return"number"==typeof t&&t>-1&&t%1==0&&d>=t}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){if(null==t)return[];i(t)||(t=Object(t));var e=t.length;e=e&&r(e)&&(s(t)||c(t))&&e||0;for(var n=t.constructor,a=-1,u="function"==typeof n&&n.prototype===t,l=Array(e),d=e>0;++a<e;)l[a]=a+"";for(var p in t)d&&o(p,e)||"constructor"==p&&(u||!f.call(t,p))||l.push(p);return l}var c=t("lodash.isarguments"),s=t("lodash.isarray"),u=/^\d+$/,l=Object.prototype,f=l.hasOwnProperty,d=9007199254740991;e.exports=a},{"lodash.isarguments":33,"lodash.isarray":34}],40:[function(t,e,n){function o(t){return r(t,i(t))}var r=t("lodash._basecopy"),i=t("lodash.keysin");e.exports=o},{"lodash._basecopy":41,"lodash.keysin":39}],41:[function(t,e,n){function o(t,e,n){n||(n={});for(var o=-1,r=e.length;++o<r;){var i=e[o];n[i]=t[i]}return n}e.exports=o},{}],42:[function(t,e,n){function o(t,e){return t="number"==typeof t||d.test(t)?+t:-1,e=null==e?p:e,t>-1&&t%1==0&&e>t}function r(t,e){var n=typeof t;if("string"==n&&f.test(t)||"number"==n)return!0;if(u(t))return!1;var o=!l.test(t);return o||null!=e&&t in i(e)}function i(t){return a(t)?t:Object(t);
}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t,e,n){if(null==t)return t;var i=e+"";e=null!=t[i]||r(e,t)?[i]:s(e);for(var c=-1,u=e.length,l=u-1,f=t;null!=f&&++c<u;){var d=e[c];a(f)&&(c==l?f[d]=n:null==f[d]&&(f[d]=o(e[c+1])?[]:{})),f=f[d]}return t}var s=t("lodash._topath"),u=t("lodash.isarray"),l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,f=/^\w*$/,d=/^\d+$/,p=9007199254740991;e.exports=c},{"lodash._topath":43,"lodash.isarray":44}],43:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23,"lodash.isarray":44}],44:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{dup:24}]},{},[17]);